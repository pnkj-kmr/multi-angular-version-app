{"version":3,"file":"signup-web-component.js","sources":["../../../src/environments/environment.ts","../../../src/app/services/api.service.ts","../../../src/app/services/auth.service.ts","../../../src/app/components/button/button.component.ts","../../../src/app/components/form-input/form-input.component.ts","../../../src/app/pages/signup/signup.page.ts","../../../src/web-component/signup/signup.component.ts","../../../src/web-component/signup/bootstrap.ts"],"sourcesContent":["export const environment = {\n  production: false,\n  apiUrl: 'http://localhost:8000'\n};\n\n\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { environment } from '../../environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ApiService {\n  private apiUrl = environment.apiUrl;\n\n  constructor(private http: HttpClient) {}\n\n  private getHeaders(): HttpHeaders {\n    const token = localStorage.getItem('token');\n    return new HttpHeaders({\n      'Content-Type': 'application/json',\n      ...(token && { 'Authorization': `Bearer ${token}` })\n    });\n  }\n\n  get<T>(endpoint: string): Observable<T> {\n    return this.http.get<T>(`${this.apiUrl}${endpoint}`, {\n      headers: this.getHeaders()\n    });\n  }\n\n  post<T>(endpoint: string, data: any): Observable<T> {\n    return this.http.post<T>(`${this.apiUrl}${endpoint}`, data, {\n      headers: this.getHeaders()\n    });\n  }\n\n  put<T>(endpoint: string, data: any): Observable<T> {\n    return this.http.put<T>(`${this.apiUrl}${endpoint}`, data, {\n      headers: this.getHeaders()\n    });\n  }\n\n  delete<T>(endpoint: string): Observable<T> {\n    return this.http.delete<T>(`${this.apiUrl}${endpoint}`, {\n      headers: this.getHeaders()\n    });\n  }\n}\n\n\n","import { Injectable, signal, computed } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { tap } from 'rxjs/operators';\nimport { ApiService } from './api.service';\nimport { LoginRequest, SignupRequest } from '../models/user.model';\n\nexport interface AuthResponse {\n  access_token: string;\n  token_type: string;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n  private token = signal<string | null>(localStorage.getItem('token'));\n  \n  isAuthenticated = computed(() => !!this.token());\n\n  constructor(\n    private apiService: ApiService,\n    private router: Router\n  ) {}\n\n  login(credentials: LoginRequest): Observable<AuthResponse> {\n    return this.apiService.post<AuthResponse>('/api/auth/login', credentials).pipe(\n      tap(response => {\n        localStorage.setItem('token', response.access_token);\n        this.token.set(response.access_token);\n      })\n    );\n  }\n\n  signup(userData: SignupRequest): Observable<AuthResponse> {\n    return this.apiService.post<AuthResponse>('/api/auth/signup', userData).pipe(\n      tap(response => {\n        localStorage.setItem('token', response.access_token);\n        this.token.set(response.access_token);\n      })\n    );\n  }\n\n  logout(): void {\n    localStorage.removeItem('token');\n    this.token.set(null);\n    this.router.navigate(['/login']);\n  }\n}\n\n","import { Component, input } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n@Component({\n  selector: 'infraon-button',\n  standalone: true,\n  imports: [CommonModule],\n  templateUrl: './button.component.html',\n  styleUrls: ['./button.component.css']\n})\nexport class InfraonButtonComponent {\n  type = input<string>('button');\n  variant = input<'primary' | 'secondary' | 'danger'>('primary');\n  disabled = input<boolean>(false);\n  loading = input<boolean>(false);\n}\n\n\n","import { Component, input, output } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\n@Component({\n  selector: 'infraon-form-input',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  templateUrl: './form-input.component.html',\n  styleUrls: ['./form-input.component.css']\n})\nexport class InfraonFormInputComponent {\n  label = input.required<string>();\n  type = input<string>('text');\n  placeholder = input<string>('');\n  required = input<boolean>(false);\n  value = input<string>('');\n  \n  valueChange = output<string>();\n  \n  onInput(event: Event): void {\n    const target = event.target as HTMLInputElement;\n    this.valueChange.emit(target.value);\n  }\n}\n\n\n","import { Component, signal } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { FormsModule } from \"@angular/forms\";\nimport { Router, RouterLink } from \"@angular/router\";\nimport { AuthService } from \"../../services/auth.service\";\nimport { SignupRequest } from \"../../models/user.model\";\nimport { InfraonButtonComponent } from \"../../components/button/button.component\";\nimport { InfraonFormInputComponent } from \"../../components/form-input/form-input.component\";\n\n@Component({\n  selector: \"app-signup-page\",\n  standalone: true,\n  imports: [\n    CommonModule,\n    FormsModule,\n    RouterLink,\n    InfraonButtonComponent,\n    InfraonFormInputComponent,\n  ],\n  templateUrl: \"./signup.page.html\",\n  styleUrls: [\"./signup.page.css\"],\n})\nexport class SignupPage {\n  userData = signal<SignupRequest>({\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    full_name: \"\",\n  });\n\n  confirmPassword = signal<string>(\"\");\n  errorMessage = signal<string>(\"\");\n  isLoading = signal<boolean>(false);\n\n  constructor(private authService: AuthService, private router: Router) {}\n\n  updateFullName(value: string): void {\n    this.userData.update((d) => ({ ...d, full_name: value }));\n  }\n\n  updateUsername(value: string): void {\n    this.userData.update((d) => ({ ...d, username: value }));\n  }\n\n  updateEmail(value: string): void {\n    this.userData.update((d) => ({ ...d, email: value }));\n  }\n\n  updatePassword(value: string): void {\n    this.userData.update((d) => ({ ...d, password: value }));\n  }\n\n  updateConfirmPassword(value: string): void {\n    this.confirmPassword.set(value);\n  }\n\n  onSubmit(): void {\n    const data = this.userData();\n    const confirm = this.confirmPassword();\n\n    if (!data.username || !data.email || !data.password || !data.full_name) {\n      this.errorMessage.set(\"Please fill in all fields\");\n      return;\n    }\n\n    if (data.password !== confirm) {\n      this.errorMessage.set(\"Passwords do not match\");\n      return;\n    }\n\n    if (data.password.length < 6) {\n      this.errorMessage.set(\"Password must be at least 6 characters long\");\n      return;\n    }\n\n    this.isLoading.set(true);\n    this.errorMessage.set(\"\");\n\n    this.authService.signup(data).subscribe({\n      next: () => {\n        this.router.navigate([\"/\"]);\n      },\n      error: (error) => {\n        this.isLoading.set(false);\n        // Handle FastAPI validation errors (422 status)\n        if (\n          error.status === 422 &&\n          error.error?.detail &&\n          Array.isArray(error.error.detail)\n        ) {\n          // Extract validation error messages\n          const errorMessages = error.error.detail.map((err: any) => {\n            const field =\n              err.loc && err.loc.length > 1\n                ? err.loc[err.loc.length - 1]\n                : \"field\";\n            return `${field}: ${err.msg}`;\n          });\n          this.errorMessage.set(errorMessages.join(\", \"));\n        } else if (error.error?.detail) {\n          // Handle other error formats\n          if (typeof error.error.detail === \"string\") {\n            this.errorMessage.set(error.error.detail);\n          } else if (\n            Array.isArray(error.error.detail) &&\n            error.error.detail.length > 0\n          ) {\n            this.errorMessage.set(\n              error.error.detail[0].msg || \"Validation error\"\n            );\n          } else {\n            this.errorMessage.set(\"Signup failed. Please try again.\");\n          }\n        } else {\n          this.errorMessage.set(\"Signup failed. Please try again.\");\n        }\n      },\n    });\n  }\n}\n\n","import {\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  ElementRef,\n  inject,\n  Injectable,\n  Provider,\n  OnInit,\n  AfterViewInit,\n} from \"@angular/core\";\nimport { SignupPage } from \"../../app/pages/signup/signup.page\";\nimport { AuthService } from \"../../app/services/auth.service\";\nimport { ApiService } from \"../../app/services/api.service\";\nimport { HttpClient, HttpHeaders } from \"@angular/common/http\";\nimport { Router } from \"@angular/router\";\nimport { Observable } from \"rxjs\";\nimport { tap } from \"rxjs/operators\";\nimport { SignupRequest } from \"../../app/models/user.model\";\n\nexport interface AuthResponse {\n  access_token: string;\n  token_type: string;\n}\n\n// Custom ApiService that allows dynamic API URL\n@Injectable()\nclass WebComponentApiService extends ApiService {\n  private customApiUrl: string = \"\";\n\n  constructor(http: HttpClient) {\n    super(http);\n  }\n\n  setApiUrl(url: string): void {\n    (this as any).apiUrl = url;\n  }\n\n  override post<T>(endpoint: string, data: any): Observable<T> {\n    const url =\n      this.customApiUrl || (this as any).apiUrl || \"http://localhost:8000\";\n    const headers = new HttpHeaders({\n      \"Content-Type\": \"application/json\",\n      ...(localStorage.getItem(\"token\") && {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n      }),\n    });\n    const http = (this as any).http as HttpClient;\n    return http.post<T>(`${url}${endpoint}`, data, { headers });\n  }\n}\n\n// Custom AuthService for web component (no Router navigation, configurable endpoint)\n@Injectable()\nclass WebComponentAuthService extends AuthService {\n  private customSignupEndpoint: string = \"/api/auth/signup\";\n\n  constructor(apiService: ApiService) {\n    super(apiService, {\n      navigate: () => Promise.resolve(true),\n    } as unknown as Router);\n  }\n\n  setSignupEndpoint(endpoint: string): void {\n    this.customSignupEndpoint = endpoint;\n  }\n\n  override signup(userData: SignupRequest): Observable<AuthResponse> {\n    // Use custom endpoint instead of hardcoded one\n    const apiService = (this as any).apiService as ApiService;\n    return (\n      apiService.post(\n        this.customSignupEndpoint,\n        userData\n      ) as Observable<AuthResponse>\n    ).pipe(\n      tap((response: AuthResponse) => {\n        localStorage.setItem(\"token\", response.access_token);\n        (this as any).token.set(response.access_token);\n      })\n    );\n  }\n}\n\n@Component({\n  selector: \"signup-web-component\",\n  standalone: true,\n  imports: [SignupPage],\n  providers: [\n    {\n      provide: ApiService,\n      useClass: WebComponentApiService,\n      deps: [HttpClient],\n    },\n    {\n      provide: AuthService,\n      useClass: WebComponentAuthService,\n      deps: [ApiService],\n    },\n    // Provide Router for SignupPage (mock Router that doesn't navigate)\n    {\n      provide: Router,\n      useValue: {\n        navigate: () => Promise.resolve(true),\n        navigateByUrl: () => Promise.resolve(true),\n        createUrlTree: () => ({} as any),\n        serializeUrl: () => \"\",\n      } as unknown as Router,\n    },\n  ] as Provider[],\n  template: ` <app-signup-page></app-signup-page> `,\n  styles: [\n    `\n      :host {\n        display: block;\n        width: 100%;\n        min-height: 400px;\n      }\n    `,\n  ],\n})\nexport class SignupWebComponent implements OnInit, AfterViewInit {\n  // Web component inputs\n  @Input() apiUrl: string = \"http://localhost:8000\";\n  @Input() signupEndpoint: string = \"/api/auth/signup\";\n\n  // Web component outputs\n  @Output() signupSuccess = new EventEmitter<AuthResponse>();\n  @Output() signupError = new EventEmitter<string>();\n\n  private elementRef = inject(ElementRef);\n  private apiService = inject(ApiService) as unknown as WebComponentApiService;\n  private authService = inject(\n    AuthService\n  ) as unknown as WebComponentAuthService;\n\n  constructor() {\n    console.log(\"SignupWebComponent constructor called\");\n  }\n\n  ngOnInit(): void {\n    console.log(\"SignupWebComponent ngOnInit called\");\n  }\n\n  ngAfterViewInit(): void {\n    console.log(\"SignupWebComponent ngAfterViewInit called\");\n    console.log(\"API URL:\", this.apiUrl);\n    console.log(\"Signup Endpoint:\", this.signupEndpoint);\n\n    // Configure API URL\n    if (this.apiService.setApiUrl) {\n      this.apiService.setApiUrl(this.apiUrl);\n      console.log(\"API URL configured\");\n    }\n\n    // Configure signup endpoint\n    if ((this.authService as any).setSignupEndpoint) {\n      (this.authService as any).setSignupEndpoint(this.signupEndpoint);\n      console.log(\"Signup endpoint configured\");\n    }\n\n    // Intercept AuthService signup to emit web component events\n    this.interceptAuthService();\n\n    // Debug: Log component state\n    console.log(\"Component element:\", this.elementRef.nativeElement);\n    console.log(\"Component dimensions:\", {\n      width: this.elementRef.nativeElement.offsetWidth,\n      height: this.elementRef.nativeElement.offsetHeight,\n    });\n  }\n\n  private interceptAuthService(): void {\n    // Store original signup method\n    const originalSignup = this.authService.signup.bind(this.authService);\n\n    // Override signup to emit events\n    (this.authService as any).signup = (userData: SignupRequest) => {\n      return originalSignup(userData).pipe(\n        tap({\n          next: (response: AuthResponse) => {\n            localStorage.setItem(\"token\", response.access_token);\n            this.signupSuccess.emit(response);\n            this.dispatchCustomEvent(\"signupSuccess\", response);\n          },\n          error: (error: any) => {\n            let errorMsg = \"Signup failed. Please try again.\";\n            if (error.error?.detail) {\n              if (typeof error.error.detail === \"string\") {\n                errorMsg = error.error.detail;\n              } else if (\n                Array.isArray(error.error.detail) &&\n                error.error.detail.length > 0\n              ) {\n                errorMsg = error.error.detail[0].msg || \"Validation error\";\n              }\n            }\n            this.signupError.emit(errorMsg);\n            this.dispatchCustomEvent(\"signupError\", errorMsg);\n          },\n        })\n      );\n    };\n  }\n\n  private dispatchCustomEvent(eventName: string, detail: any): void {\n    const event = new CustomEvent(eventName, {\n      detail,\n      bubbles: true,\n      cancelable: true,\n    });\n    this.elementRef.nativeElement.dispatchEvent(event);\n  }\n}\n\n","import \"zone.js\";\nimport { createCustomElement } from \"@angular/elements\";\nimport { createApplication } from \"@angular/platform-browser\";\nimport { provideHttpClient } from \"@angular/common/http\";\nimport { provideRouter } from \"@angular/router\";\nimport { SignupWebComponent } from \"./signup.component\";\n\n// Bootstrap the Angular application and create the custom element\ncreateApplication({\n  providers: [\n    provideHttpClient(),\n    // Provide Router (even though SignupPage in web component uses a mock Router)\n    // This is needed for Angular to initialize properly\n    provideRouter([]),\n  ],\n})\n  .then((appRef) => {\n    console.log(\"✅ Angular application created\");\n    console.log(\"Application injector:\", appRef.injector);\n\n    try {\n      // Create the custom element from the Angular component\n      // Note: Angular Elements uses Shadow DOM by default\n      // Styles should be automatically included in the component\n      const signupElement = createCustomElement(SignupWebComponent, {\n        injector: appRef.injector,\n      });\n\n      console.log(\"✅ Custom element created:\", signupElement);\n\n      // Define the custom element\n      customElements.define(\"signup-web-component\", signupElement);\n\n      console.log(\"✅ Signup web component registered successfully!\");\n\n      // Debug: Log when component is defined\n      if (customElements.get(\"signup-web-component\")) {\n        console.log(\"✅ Custom element is defined and ready to use\");\n      }\n\n      // Test: Try to create an instance programmatically\n      setTimeout(() => {\n        try {\n          const testElement = document.createElement(\"signup-web-component\");\n          console.log(\"✅ Test element created:\", testElement);\n          console.log(\n            \"Test element constructor:\",\n            testElement.constructor.name\n          );\n        } catch (testErr) {\n          console.error(\"❌ Error creating test element:\", testErr);\n        }\n      }, 100);\n    } catch (createErr) {\n      console.error(\"❌ Error creating custom element:\", createErr);\n      console.error(\"Error details:\", createErr);\n      throw createErr;\n    }\n  })\n  .catch((err) => {\n    console.error(\"❌ Error creating signup web component:\", err);\n    console.error(\"Error message:\", err.message);\n    console.error(\"Error stack:\", err.stack);\n    console.error(\"Full error:\", err);\n  });\n\n"],"names":["token","HttpHeaders","endpoint","data","_ApiService","__ngFactoryType__","i0.ɵɵinject","i1.HttpClient","i0.ɵɵdefineInjectable","signal","computed","credentials","tap","response","userData","_AuthService","i1.ApiService","i2.Router","_InfraonButtonComponent","input","i0.ɵɵdefineComponent","_c0","rf","ctx","i0.ɵɵprojectionDef","i0.ɵɵdomElementStart","i0.ɵɵconditionalCreate","InfraonButtonComponent_Conditional_1_Template","InfraonButtonComponent_Conditional_2_Template","i0.ɵɵdomElementEnd","i0.ɵɵclassMap","i0.ɵɵdomProperty","i0.ɵɵadvance","i0.ɵɵconditional","InfraonButtonComponent","output","event","target","_InfraonFormInputComponent","i0.ɵɵtext","InfraonFormInputComponent_Conditional_3_Template","i0.ɵɵdomListener","$event","i0.ɵɵtextInterpolate1","SignupPage_Conditional_11_Template","i0.ɵɵelementStart","i0.ɵɵelementEnd","ctx_r0","i0.ɵɵnextContext","_SignupPage","authService","router","value","d","confirm","error","errorMessages","err","i0.ɵɵdirectiveInject","i1.AuthService","SignupPage","_WebComponentApiService","ApiService","http","url","headers","WebComponentApiService","_WebComponentAuthService","AuthService","apiService","i2.ApiService","WebComponentAuthService","_SignupWebComponent","EventEmitter","inject","ElementRef","originalSignup","errorMsg","detail","eventName","i0.ɵɵProvidersFeature","HttpClient","Router","i0.ɵɵelement","SignupWebComponent","createApplication","provideHttpClient","provideRouter","appRef","signupElement","testElement","testErr","createErr"],"mappings":"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"}